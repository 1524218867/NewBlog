(function(){"use strict";var t={4091:function(t,e,s){var a=s(8451),i=s.n(a),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade"}},[t.isLoading?e("Loader",{attrs:{visible:t.isLoading}}):t._e()],1),e("transition",{attrs:{name:"fade"}},[e("router-view",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"view"})],1)],1)},o=[],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"loader"},[e("div",[e("ul",[e("li",[e("svg",{attrs:{fill:"currentColor",viewBox:"0 0 90 120"}},[e("path",{attrs:{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}})])]),e("li",[e("svg",{attrs:{fill:"currentColor",viewBox:"0 0 90 120"}},[e("path",{attrs:{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}})])]),e("li",[e("svg",{attrs:{fill:"currentColor",viewBox:"0 0 90 120"}},[e("path",{attrs:{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}})])]),e("li",[e("svg",{attrs:{fill:"currentColor",viewBox:"0 0 90 120"}},[e("path",{attrs:{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}})])]),e("li",[e("svg",{attrs:{fill:"currentColor",viewBox:"0 0 90 120"}},[e("path",{attrs:{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}})])]),e("li",[e("svg",{attrs:{fill:"currentColor",viewBox:"0 0 90 120"}},[e("path",{attrs:{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"}})])])])]),e("span",[t._v("Loading")])])},n=[],c={props:{visible:{type:Boolean,default:!1}}},d=c,u=s(1656),h=(0,u.A)(d,l,n,!1,null,"3eef93b4",null),m=h.exports,g=s(7222),p={data(){return{isLoading:!0}},components:{Loader:m},computed:{...(0,g.aH)(["hasVisitedHome"])},methods:{...(0,g.i0)(["markVisitedHome"]),initializeApp(){setTimeout((()=>{this.isLoading=!1,this.markVisitedHome()}),3e3)}},mounted(){this.initializeApp()}},f=p,v=(0,u.A)(f,r,o,!1,null,"26ca86fc",null),C=v.exports,w=s(6648),y=s(2674);w["default"].use(g.Ay);const b=new g.Ay.Store({state:{user:{token:localStorage.getItem("token")||null,details:JSON.parse(localStorage.getItem("userDetails"))||{}},sharedData:null,hasVisitedHome:"true"===localStorage.getItem("hasVisitedHome"),favorites:[],userId:null,articleFrom:null},mutations:{setSharedData(t,e){t.sharedData=e},setArticleFrom(t,e){t.articleFrom=e},setUser(t,{token:e,details:s}){t.user.token=e,t.user.details=s,e?(localStorage.setItem("token",e),localStorage.setItem("userDetails",JSON.stringify(s))):(localStorage.removeItem("token"),localStorage.removeItem("userDetails"))},deleteUser(t){t.user={token:null,details:{}},localStorage.removeItem("token"),localStorage.removeItem("userDetails")},setHasVisitedHome(t,e){t.hasVisitedHome=e,localStorage.setItem("hasVisitedHome",e)},updateUsername(t,e){t.user.details.username=e},setFavorites(t,e){t.favorites=e}},actions:{updateSharedData({commit:t},e){t("setSharedData",e)},updateUser({commit:t},{token:e,details:s}){t("setUser",{token:e,details:s})},logout({commit:t}){t("deleteUser")},markVisitedHome({commit:t}){t("setHasVisitedHome",!0)},resetVisitedHome({commit:t}){t("setHasVisitedHome",!1)},async VuexloadFavorites({commit:t}){const e=localStorage.getItem("token");if(e)try{const s=await y.A.get("/api/user",{headers:{Authorization:`Bearer ${e}`}}),a=s.data._id,i=await y.A.get(`/api/favorites/${a}`),r=i.data;t("setFavorites",r)}catch(s){console.error("加载收藏失败:",s)}}},getters:{isLoggedIn(t){return!!t.user.token},getUser(t){return t.user.details},hasVisitedHome:t=>t.hasVisitedHome,getFavorites:t=>t.favorites,getUserId:t=>t.userId}});var A=b,k=(s(6099),s(6051)),I=s.n(k),_=s(79),x=s.n(_),S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"PackageContent",on:{click:t.handleClickIndexContent}},[e("div",{staticClass:"header"},[e("div",{staticClass:"LogoAndMenu"},[e("div",{staticClass:"logo-menu-container"},[t._m(0),e("ul",{staticClass:"menu"},[e("li",{class:{active:"home"===t.activeSection}},[e("router-link",{attrs:{to:t.getPath(0)},nativeOn:{click:function(e){return t.setActive("home")}}},[e("span",[t._v("首页")])])],1),e("li",{class:{active:"discover"===t.activeSection}},[e("router-link",{attrs:{to:t.getPath(1)},nativeOn:{click:function(e){return t.setActive("discover")}}},[e("span",[t._v("发现")])])],1),e("li",{class:{active:"create"===t.activeSection}},[t.isDisabled?e("span",[t._v("创作")]):[e("router-link",{attrs:{to:t.getPath(2)},nativeOn:{click:function(e){return t.setActive("create")}}},[e("span",[t._v("创作")])])]],2),e("li",{class:{active:"my"===t.activeSection}},[e("router-link",{attrs:{to:t.getPath(3)},nativeOn:{click:function(e){return t.setActive("my")}}},[e("span",[t._v("我的")])])],1)])]),e("div",{staticClass:"right-container"},[e("ThemeToggle"),e("div",{staticClass:"InputContainer",class:{expanded:t.isSearchExpanded},on:{click:function(e){return e.stopPropagation(),t.toggleSearch.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"input",attrs:{placeholder:"搜索",id:"input",name:"text",type:"text"},domProps:{value:t.keyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchArticles.apply(null,arguments)},input:[function(e){e.target.composing||(t.keyword=e.target.value)},t.onInputChange],focus:t.highlightButton,blur:t.resetButton}}),e("label",{staticClass:"labelforsearch",attrs:{for:"input"},on:{click:function(e){return e.stopPropagation(),t.handleSearchClick.apply(null,arguments)}}},[e("svg",{staticClass:"searchIcon",attrs:{viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"}})])]),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.SouSuoContent,expression:"SouSuoContent"}]},[e("svg",{staticClass:"icon",attrs:{t:"1734760992680",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4142",width:"15",height:"15"},on:{click:t.CloseSearch}},[e("path",{attrs:{d:"M593.976284 490.054855l359.392196 359.549238a74.516756 74.516756 0 1 1-105.454166 105.454166L488.443597 595.587542l-359.470718 359.470717a74.438235 74.438235 0 0 1-105.532687 0 74.595278 74.595278 0 0 1 0-105.454166L382.910909 490.054855 23.440192 130.584137A74.595278 74.595278 0 0 1 128.972879 25.129971L488.443597 384.600688 847.914314 25.129971a74.595278 74.595278 0 1 1 105.454166 105.454166L593.976284 490.054855z",fill:"#2C2F46","p-id":"4143"}})]),t._l(t.SouSuoarticles,(function(s){return e("li",{key:s._id},[e("router-link",{staticClass:"search-result-item",attrs:{to:{name:"Article",params:{id:s._id}}}},[e("h3",{domProps:{innerHTML:t._s(s.title)}}),e("p",{domProps:{innerHTML:t._s(s.BriefIntroduction)}})])],1)}))],2)]),e("label",{staticClass:"popup",on:{click:function(t){t.preventDefault()}}},[e("div",{staticClass:"burger",attrs:{tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.openPopup.apply(null,arguments)}}},[e("svg",{staticClass:"icon",attrs:{t:"1731742925320",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4265",width:"20",height:"200"}},[e("path",{attrs:{d:"M61.44 238.933333h901.12c27.306667 0 47.786667-20.48 47.786667-47.786666 0-27.306667-20.48-47.786667-47.786667-47.786667H61.44C34.133333 143.36 13.653333 163.84 13.653333 191.146667 13.653333 218.453333 34.133333 238.933333 61.44 238.933333z m901.12 225.28H61.44C34.133333 464.213333 13.653333 484.693333 13.653333 512s20.48 47.786667 47.786667 47.786667h901.12c27.306667 0 47.786667-20.48 47.786667-47.786667s-23.893333-47.786667-47.786667-47.786667z m0 320.853334H61.44c-27.306667 0-47.786667 20.48-47.786667 47.786666 0 27.306667 20.48 47.786667 47.786667 47.786667h901.12c27.306667 0 47.786667-20.48 47.786667-47.786667 0-27.306667-23.893333-47.786667-47.786667-47.786666z","p-id":"4266",fill:"#ffffff"}})])]),e("nav",{directives:[{name:"show",rawName:"v-show",value:t.isPopupVisible,expression:"isPopupVisible"}],staticClass:"popup-window",on:{click:function(e){return e.stopPropagation(),t.handlePopupClick.apply(null,arguments)}}},[e("ul",[e("li",[e("router-link",{attrs:{to:t.getPath(0)},nativeOn:{click:function(e){return t.setActive("home")}}},[e("button",{class:{active:"home"===t.activeSection}},[e("svg",{staticClass:"icon",attrs:{t:"1731745400798",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7089",width:"12",height:"12"}},[e("path",{attrs:{d:"M854 512.9c-20.9 0-37.7 16.9-37.7 37.7v240.6c0 85.6-69.6 155.2-155.2 155.2H362.9c-85.6 0-155.2-69.6-155.2-155.2V550.6c0-20.9-16.9-37.7-37.7-37.7s-37.7 16.9-37.7 37.7v240.6c0 127.2 103.5 230.7 230.7 230.7h298.1c127.2 0 230.7-103.5 230.7-230.7V550.6c0-20.8-16.9-37.7-37.8-37.7zM1012.2 430L596.7 35.9c-47.5-45.1-121.9-45.1-169.5 0L11.8 430c-15.1 14.3-15.8 38.2-1.4 53.4 14.4 15.1 38.2 15.8 53.4 1.4L479.2 90.6c18.4-17.4 47.2-17.4 65.5 0l415.5 394.1c7.3 6.9 16.6 10.4 26 10.4 10 0 20-4 27.4-11.8 14.4-15.1 13.8-39-1.4-53.3z","p-id":"7090"}})]),e("span",[t._v("首页")])])])],1),e("li",[e("router-link",{attrs:{to:t.getPath(1)},nativeOn:{click:function(e){return t.setActive("discover")}}},[e("button",{class:{active:"discover"===t.activeSection}},[e("svg",{staticClass:"icon",attrs:{t:"1731747976102",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9138",width:"14",height:"14"}},[e("path",{attrs:{d:"M597.7 566.2m-352.5 0a352.5 352.5 0 1 0 705 0 352.5 352.5 0 1 0-705 0Z","p-id":"9139"}}),e("path",{attrs:{d:"M242.7 782.1c5.4 5.4 10.9 10.5 16.5 15.5 19.8-3.6 42.9-10.9 68.7-22.1-82.9-58.4-137.2-154.8-154.8-263.6 0-177.7 144.5-322.2 322.2-322.2 108.2 0 204 53.6 262.5 135.6 11-25.9 18-49.6 21-69.7-4.3-4.7-8.7-9.4-13.2-13.9-35.1-35.1-76-62.6-121.5-81.9-47.1-19.9-97.2-30-148.8-30-51.6 0-101.6 10.1-148.8 30-45.5 19.3-86.4 46.8-121.5 81.9-35.1 35.1-62.6 76-81.9 121.5-19.9 47.1-30 97.2-30 148.8 0 51.6 10.1 101.6 30 148.8 19.4 45.3 47 86.2 82 121.3zM867.5 405.5c-9.8 21.2-21.5 43-34.9 65.2 1.7 13.5 2.6 27.2 2.6 41.1C835.2 689.5 690.7 834 513 834c-13.6 0-26.9-0.9-40.1-2.5-23.2 14.1-46 26.4-68.1 36.7-4.6 2.1-9.1 4.1-13.6 6 39.1 13.1 80 19.8 121.8 19.8 51.6 0 101.6-10.1 148.8-30 45.5-19.3 86.4-46.8 121.5-81.9 35.1-35.1 62.6-76 81.9-121.5 19.9-47.1 30-97.2 30-148.8 0-42.3-6.8-83.7-20.3-123.2-2.3 5.6-4.8 11.2-7.4 16.9z","p-id":"9140"}}),e("path",{attrs:{d:"M849.3 174.2c-15.2-15.2-43.8-32.6-93.5-29.2-24.7 1.7-52.4 8.3-82.5 19.7 25 11.5 48.5 25.7 70.3 42.2 9.1-1.6 17.5-2.4 25-2.4 17.3 0 30.3 4.1 38.3 12 20.6 20.6 14.4 74.8-16.4 141.4-36.4 78.7-101.7 167.3-183.9 249.5C460.1 754.1 323.2 819.8 254 819.8c-17.3 0-30.3-4.1-38.3-12-11.9-11.9-15.1-35.3-8.9-67.1-16.3-21.8-30.2-45.2-41.6-70.1-12.2 31.5-19.2 60.4-21 86.1-3.5 49.7 13.9 78.3 29.2 93.5 13.9 13.9 38.9 29.6 81 29.6 4 0 8.2-0.1 12.5-0.4 33.5-2.3 72.3-13.6 115.4-33.5C467.3 806.6 562 737 649.1 650S805.7 468.2 845 383.2c19.9-43.1 31.2-81.9 33.5-115.4 3.5-49.8-13.9-78.4-29.2-93.6z",fill:"#000002","p-id":"9141"}}),e("path",{attrs:{d:"M491.022975 310.036021a30 30 0 1 0 42.425667-42.427147 30 30 0 1 0-42.425667 42.427147Z",fill:"#000002","p-id":"9142"}}),e("path",{attrs:{d:"M267.537509 533.397692a30 30 0 1 0 42.425666-42.427148 30 30 0 1 0-42.425666 42.427148Z",fill:"#000002","p-id":"9143"}}),e("path",{attrs:{d:"M477.9 477.3c-7.6 7.6-16.4 13.4-26.2 17.4-9.5 3.9-19.5 5.8-29.8 5.8s-20.3-2-29.8-5.8c-7.7-3.1-11.4-11.9-8.3-19.5 3.1-7.7 11.9-11.4 19.5-8.3 5.9 2.4 12.1 3.6 18.5 3.6s12.6-1.2 18.5-3.6c6.1-2.5 11.6-6.1 16.3-10.8 4.7-4.7 8.3-10.2 10.8-16.3 2.4-5.9 3.6-12.1 3.6-18.5s-1.2-12.6-3.6-18.5c-3.1-7.7 0.6-16.4 8.3-19.5 7.7-3.1 16.4 0.6 19.5 8.3 3.9 9.5 5.8 19.5 5.8 29.8s-2 20.3-5.8 29.8c-3.9 9.7-9.7 18.5-17.3 26.1z",fill:"#000002","p-id":"9144"}})]),e("span",[t._v("发现")])])])],1),e("li",[t.isDisabled?e("div",{on:{click:function(e){return t.Indexpublish()}}},[e("button",{class:{active:"create"===t.activeSection}},[e("svg",{staticClass:"icon",attrs:{t:"1731748751506",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10213",width:"14",height:"14"}},[e("path",{attrs:{d:"M434.631111 903.395556c-18.887111 0-34.133333-15.246222-34.133333-34.133334V672.768c0-7.850667 2.730667-15.587556 7.736889-21.617778l410.510222-500.280889c9.671111-11.832889 26.055111-15.701333 40.049778-9.557333s22.186667 20.821333 20.138666 35.953778l-93.411555 664.917333c-1.479111 10.922667-8.305778 20.48-17.976889 25.486222-9.784889 5.12-21.390222 5.12-31.288889 0.113778l-213.105778-108.430222c-16.839111-8.533333-23.438222-29.127111-14.904889-45.852445 8.533333-16.839111 29.127111-23.438222 45.852445-14.904888l170.552889 86.812444 69.859555-497.208889L468.764444 685.056V869.262222c0 18.887111-15.36 34.133333-34.133333 34.133334z","p-id":"10214"}}),e("path",{attrs:{d:"M331.776 659.911111c-5.233778 0-10.581333-1.251556-15.587556-3.754667l-174.08-89.884444c-11.264-5.802667-18.432-17.408-18.432-30.151111-0.113778-12.743111 6.940444-24.348444 18.204445-30.378667l687.331555-363.406222c16.611556-8.760889 37.319111-2.389333 46.08 14.222222 8.760889 16.611556 2.389333 37.319111-14.222222 46.08L231.424 535.552l116.053333 59.960889c16.725333 8.647111 23.324444 29.240889 14.677334 45.966222-6.030222 11.719111-17.976889 18.432-30.378667 18.432z","p-id":"10215"}})]),e("span",[t._v("创作")])])]):e("router-link",{attrs:{to:t.getPath(2)},nativeOn:{click:function(e){return t.setActive("create")}}},[e("button",{class:{active:"create"===t.activeSection}},[e("svg",{staticClass:"icon",attrs:{t:"1731748751506",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10213",width:"14",height:"14"}},[e("path",{attrs:{d:"M434.631111 903.395556c-18.887111 0-34.133333-15.246222-34.133333-34.133334V672.768c0-7.850667 2.730667-15.587556 7.736889-21.617778l410.510222-500.280889c9.671111-11.832889 26.055111-15.701333 40.049778-9.557333s22.186667 20.821333 20.138666 35.953778l-93.411555 664.917333c-1.479111 10.922667-8.305778 20.48-17.976889 25.486222-9.784889 5.12-21.390222 5.12-31.288889 0.113778l-213.105778-108.430222c-16.839111-8.533333-23.438222-29.127111-14.904889-45.852445 8.533333-16.839111 29.127111-23.438222 45.852445-14.904888l170.552889 86.812444 69.859555-497.208889L468.764444 685.056V869.262222c0 18.887111-15.36 34.133333-34.133333 34.133334z","p-id":"10214"}}),e("path",{attrs:{d:"M331.776 659.911111c-5.233778 0-10.581333-1.251556-15.587556-3.754667l-174.08-89.884444c-11.264-5.802667-18.432-17.408-18.432-30.151111-0.113778-12.743111 6.940444-24.348444 18.204445-30.378667l687.331555-363.406222c16.611556-8.760889 37.319111-2.389333 46.08 14.222222 8.760889 16.611556 2.389333 37.319111-14.222222 46.08L231.424 535.552l116.053333 59.960889c16.725333 8.647111 23.324444 29.240889 14.677334 45.966222-6.030222 11.719111-17.976889 18.432-30.378667 18.432z","p-id":"10215"}})]),e("span",[t._v("创作")])])])],1),t.isDisabled?e("li",[e("router-link",{attrs:{to:t.getPath(4)},nativeOn:{click:function(e){return t.setActive("login")}}},[e("button",{class:{active:"login"===t.activeSection}},[e("svg",{staticClass:"icon",attrs:{t:"1733543439950",viewBox:"0 0 1084 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8145",width:"14",height:"14"}},[e("path",{attrs:{d:"M655.380078 298.927686a34.354196 34.354196 0 0 1 0-48.268549 33.731765 33.731765 0 0 1 47.947295 0l233.773176 235.52c7.027451 7.087686 10.039216 16.524549 9.59749 25.820863 0.461804 9.296314-2.549961 18.733176-9.59749 25.86102l-233.773176 235.52a33.731765 33.731765 0 0 1-47.947295 0 34.374275 34.374275 0 0 1 0-48.288628L833.054118 546.133333H33.872314C15.199373 546.133333 0 530.873725 0 512c0-18.833569 15.179294-34.133333 33.872314-34.133333H833.054118l-177.653961-178.938981zM948.725961 1024H271.058824c-74.852392 0-135.529412-61.138824-135.529412-136.533333v-136.533334h67.764706v136.533334c0 37.707294 30.33851 68.266667 67.764706 68.266666h677.647058c37.426196 0 67.764706-30.579451 67.764706-68.266666V136.533333c0-37.707294-30.33851-68.266667-67.764706-68.266666H271.058824c-37.426196 0-67.764706 30.559373-67.764706 68.266666v136.533334H135.529412V136.533333C135.529412 61.138824 196.206431 0 271.058824 0h677.647058C1023.558275 0 1084.235294 61.138824 1084.235294 136.533333v750.933334c0 75.39451-60.67702 136.533333-135.529412 136.533333z","p-id":"8146"}})]),e("span",[t._v("登录")])])])],1):e("li",[e("router-link",{attrs:{to:t.getPath(3)},nativeOn:{click:function(e){return t.setActive("my")}}},[e("button",{class:{active:"my"===t.activeSection}},[e("svg",{staticClass:"icon",attrs:{t:"1731814009258",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2391",width:"14",height:"14"}},[e("path",{attrs:{d:"M512.451579 545.507144c-148.479097 0-269.140942-120.842477-269.140942-269.140942S363.972482 7.22526 512.451579 7.22526s269.140942 120.842477 269.140942 269.140942-120.661845 269.140942-269.140942 269.140942z m0-477.589698c-114.881637 0-208.448756 93.567119-208.448757 208.448756s93.567119 208.448756 208.448757 208.448757S720.900335 391.247839 720.900335 276.366202 627.333216 67.917446 512.451579 67.917446zM896.654789 1016.232845H128.248368c-47.506086 0-85.980596-38.655142-85.980596-85.980596v-58.163344l1.806315-5.057683c57.802081-160.220145 250.355265-272.211678 468.377492-272.211677S923.026989 706.811078 980.82907 867.031222l1.806315 5.057683V930.252249c0 47.506086-38.655142 85.980596-85.980596 85.980596zM103.140589 882.926795V930.252249c0 13.908626 11.379785 25.288411 25.288411 25.288411h768.225789c13.908626 0 25.288411-11.379785 25.288411-25.288411v-47.506086C870.463221 748.717587 703.017816 655.692362 512.451579 655.692362S154.439936 748.717587 103.140589 882.926795z","p-id":"2392"}})]),e("span",[t._v("我的")])])])],1)])])])],1)])]),e("div",{staticClass:"main-container"},[e("div",{staticClass:"content-wrapper"},[e("router-view",{key:t.$route.fullPath,attrs:{getImageUrl:t.getImageUrl,lastViewedArticleZi:t.lastViewedArticle},on:{themeChanged:t.updateTheme,"call-parent":t.logout}})],1)])])},L=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s(3153),alt:"Logo"}}),e("span",[t._v("云端轻语")])])}],U=(s(6948),function(){var t=this,e=t._self._c;return e("div",{staticClass:"theme-toggle",attrs:{title:"light"===t.currentTheme?"切换到暗色模式":"切换到亮色模式"},on:{click:t.toggleTheme}},["light"===t.currentTheme?e("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[e("circle",{attrs:{cx:"12",cy:"12",r:"5"}}),e("line",{attrs:{x1:"12",y1:"1",x2:"12",y2:"3"}}),e("line",{attrs:{x1:"12",y1:"21",x2:"12",y2:"23"}}),e("line",{attrs:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}}),e("line",{attrs:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}}),e("line",{attrs:{x1:"1",y1:"12",x2:"3",y2:"12"}}),e("line",{attrs:{x1:"21",y1:"12",x2:"23",y2:"12"}}),e("line",{attrs:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}}),e("line",{attrs:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}})]):e("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[e("path",{attrs:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}})])])}),E=[];const P={light:{"--primary-color":"#3498db","--secondary-background":"#f8f9ff","--active-background":"#f7f7f8","--background-color":"#ffffff","--border-color":"#f0f1fb","--text-color":"#000000","--text-color-secondary":"#666666","--button-color":"#1988fa","--button-color-rgb":"25, 136, 250","--card-background":"#f5f5f5","--gradient-primary":"linear-gradient(to right, #1988fa 0%, #33c4f9 50%, #00f2fe 100%)","--shadow-color":"rgba(0, 0, 0, 0.1)","--shadow-color-strong":"rgba(0, 0, 0, 0.15)"},dark:{"--primary-color":"#808080","--secondary-background":"#1a1a1a","--active-background":"#2a2a2a","--background-color":"#121212","--border-color":"#333333","--text-color":"#e0e0e0","--text-color-secondary":"#999999","--button-color":"#666666","--button-color-rgb":"102, 102, 102","--card-background":"#1f1f1f","--gradient-primary":"linear-gradient(to right, #4a4a4a 0%, #666666 50%, #808080 100%)","--shadow-color":"rgba(255, 255, 255, 0.05)","--shadow-color-strong":"rgba(255, 255, 255, 0.08)"}};class D{constructor(){if(!P||!P.light||!P.dark)throw new Error("主题配置未正确初始化");this.themes=P;const t=localStorage.getItem("theme"),e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;this.currentTheme=t||(e?"dark":"light"),this.initTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>{localStorage.getItem("theme")||(this.currentTheme=t.matches?"dark":"light",this.applyTheme(this.currentTheme))}))}initTheme(){this.applyTheme(this.currentTheme)}toggleTheme(){return this.currentTheme="light"===this.currentTheme?"dark":"light",this.applyTheme(this.currentTheme),localStorage.setItem("theme",this.currentTheme),this.currentTheme}applyTheme(t){const e=P[t];for(const[s,a]of Object.entries(e))document.documentElement.style.setProperty(s,a)}getCurrentTheme(){return this.currentTheme}}var F=new D,T={name:"ThemeToggle",data(){return{currentTheme:F.getCurrentTheme()}},methods:{toggleTheme(){this.currentTheme=F.toggleTheme()}},mounted(){this.currentTheme=F.getCurrentTheme()}},B=T,H=(0,u.A)(B,U,E,!1,null,"46914740",null),V=H.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[e("div",{staticClass:"footer-content"},[e("div",{staticClass:"footer-info"},[t._m(0),e("p",[t._v("© "+t._s(t.currentYear)+" 云端轻语 - 版权所有")])])])])},z=[function(){var t=this,e=t._self._c;return e("p",[t._v("如有问题请联系站长："),e("a",{attrs:{href:"mailto:admin@cloudwhisper.com"}},[t._v("18569923150@163.com")])])}],R={name:"Footer",computed:{currentYear(){return(new Date).getFullYear()}}},j=R,O=(0,u.A)(j,M,z,!1,null,"61036e6c",null),N=O.exports,$={components:{ThemeToggle:V,Footer:N},data(){return{articles:[],filteredArticles:[],latestArticle:{},isDisabled:!1,activeSection:"home",LoginActive:null,currentTheme:"light",themes:{light:{"--primary-color":"#3498db","--secondary-background":"#f8f9ff","--active-background":"#f7f7f8","--background-color":"#ffffff","--border-color":"#f0f1fb","--text-color":"#000000","--button-color":"#1988fa","--card-background":"#f5f5f5","--gradient-primary":"linear-gradient(to right, #1988fa 0%, #33c4f9 50%, #00f2fe 100%)"},dark:{"--primary-color":"#808080","--secondary-background":"#1a1a1a","--active-background":"#2a2a2a","--background-color":"#121212","--border-color":"#333333","--text-color":"#e0e0e0","--button-color":"#666666","--card-background":"#1f1f1f","--gradient-primary":"linear-gradient(to right, #4a4a4a 0%, #666666 50%, #808080 100%)"}},DisplayContinueReading:!1,viewedArticles:[],lastViewedArticle:null,noArticlesMessage:!1,scrollPosition:0,maxScrollPosition:0,JingDuTiao:0,isPopupVisible:!1,keyword:"",isButtonHighlighted:!1,SouSuoarticles:[],SouSuoContent:!1,isSearchExpanded:!1}},computed:{...(0,g.L8)(["isLoggedIn","getUser"]),...(0,g.aH)(["favorites"]),isPublishPage(){return"/Index/Content"===this.$route.path},isUserPage(){return"/Index/User"===this.$route.path}},watch:{$route:{handler(t){t.path.includes("/Index/Home")?this.activeSection="home":t.path.includes("/Index/Discover")?this.activeSection="discover":t.path.includes("/Index/Create")?this.activeSection="create":t.path.includes("/Index/My")&&(this.activeSection="my")},immediate:!0}},created(){const t=localStorage.getItem("authToken");t&&this.$store.dispatch("updateUser",{token:t,details:{}})},methods:{...(0,g.i0)(["logout","VuexloadFavorites"]),goToRegister(){this.$router.push("/Login")},openPopup(t){t.stopPropagation(),this.isPopupVisible=!this.isPopupVisible},handleClickIndexContent(t){const e=t.target.closest(".popup-window");!e&&this.isPopupVisible&&(this.isPopupVisible=!1)},handlePopupClick(t){t.stopPropagation()},async logout(){try{await this.$store.dispatch("logout"),localStorage.removeItem("token"),_.Notification.success({title:"退出登录成功",message:"您已成功退出登录。",duration:3e3}),this.$router.push("/Login")}catch(t){_.Notification.error({title:"退出登录失败",message:"退出登录过程中出现错误，请稍后重试。",duration:3e3}),console.error("Error:",t)}},getImageUrl(t){return`http://localhost:3000/uploads/${t}`},async fetchArticles(){try{const t=await y.A.get("/api/articles");this.articles=t.data,this.filteredArticles=this.articles,this.latestArticle=this.articles.length>0?this.articles[this.articles.length-1]:{}}catch(t){console.error("Error fetching articles:",t)}},async fetchViewedArticles(){if(null!=localStorage.getItem("token")){this.DisplayContinueReading=!0;try{const t=await y.A.get("/api/user/viewed-articles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(this.viewedArticles=t.data,0===this.viewedArticles.length)return this.noArticlesMessage=!0,void(this.lastViewedArticle=null);const e=[...this.viewedArticles].sort(((t,e)=>new Date(e.lastViewedAt)-new Date(t.lastViewedAt))),s=e.filter((t=>this.calculateProgress(t.scrollPosition,t.maxScrollPosition)<100));s.length>0?(this.lastViewedArticle=s[0],this.noArticlesMessage=!1):(this.lastViewedArticle=e[0],this.noArticlesMessage=!1),this.lastViewedArticle?this.JingDuTiao=this.calculateProgress(this.lastViewedArticle.scrollPosition,this.lastViewedArticle.maxScrollPosition):this.JingDuTiao=0}catch(t){console.error("Error fetching viewed articles:",t),this.noArticlesMessage=!0}}},calculateProgress(t,e){if(0===e)return 0;const s=t/e*100;return Math.min(s,100)},setActive(t){this.activeSection=t},LoginActiveCLick(t){this.LoginActive=t},getPath(t){const e={0:"/Index/Home",1:"/Index/Discover",2:"/Index/Create",3:"/Index/My",4:"/Login"};return e[t]||"/Index/Home"},setActiveSection(){if(this.$route.matched.length>0)return;const t=this.activeSection;let e="";switch(t){case"home":e="/Index/Home";break;case"discover":e="/Index/Discover";break;case"create":e="/Index/Create";break;case"my":e="/Index/My";break;default:e="/Index/Home"}this.$router.push(e)},toggleTheme(){this.currentTheme="light"===this.currentTheme?"dark":"light",this.updateTheme(this.currentTheme),localStorage.setItem("theme",this.currentTheme)},updateTheme(t){this.currentTheme=t;const e=this.themes[t];for(const s in e)document.documentElement.style.setProperty(s,e[s]);localStorage.setItem("theme",t)},Indexpublish(){this.$notify({title:"警告",message:"请先登录",type:"warning"})},async searchArticles(){if(!this.keyword)return this.message="请输入关键词进行搜索",void _.Notification.info({title:"注意",message:"请输入关键词进行搜索",duration:3e3});try{const t=await fetch(`/api/articles/search?keyword=${encodeURIComponent(this.keyword)}`);if(t.ok){const e=await t.json();e.length>0?(this.SouSuoarticles=e.map((t=>({...t,title:this.highlightKeyword(t.title),BriefIntroduction:this.highlightKeyword(t.BriefIntroduction)}))),this.SouSuoContent=!0,this.message=""):(this.message="没有找到相关的文章",this.SouSuoContent=!1)}else 404===t.status?(this.message="没有找到相关的文章",this.SouSuoContent=!1,_.Notification.error({title:"提示",message:"没有找到相关的文章",duration:3e3})):(this.message="服务器出错，请稍后再试",_.Notification.error({title:"错误",message:"服务器出错，请稍后再试",duration:3e3}))}catch(t){console.error(t),this.message="网络错误，请检查网络连接",_.Notification.error({title:"错误",message:"网络错误，请检查网络连接",duration:3e3})}},highlightKeyword(t){if(!this.keyword||!t)return t;const e=new RegExp(this.keyword,"gi");return t.replace(e,(t=>`<span class="highlight">${t}</span>`))},onInputChange(){this.keyword.trim()||(this.SouSuoarticles=[],this.message="请输入关键词进行搜索")},highlightButton(){this.isButtonHighlighted=!0},resetButton(){this.isButtonHighlighted=!1},CloseSearch(){this.SouSuoContent=!1},handleSearchClick(t){window.innerWidth<=768?(this.keyword.trim()&&this.searchArticles(),this.isSearchExpanded=!this.isSearchExpanded,this.isSearchExpanded&&this.$nextTick((()=>{const t=this.$el.querySelector(".input");t&&t.focus()}))):this.searchArticles()},toggleSearch(t){t.target.closest(".labelforsearch")||window.innerWidth<=768&&(this.isSearchExpanded||(this.isSearchExpanded=!0,this.$nextTick((()=>{const t=this.$el.querySelector(".input");t&&t.focus()}))))},handleDocumentClick(t){if(window.innerWidth<=768){const e=this.$el.querySelector(".InputContainer");e&&!e.contains(t.target)&&(this.isSearchExpanded=!1)}}},mounted(){this.isDisabled=!localStorage.getItem("token");const t=localStorage.getItem("theme")||"light";this.updateTheme(t),this.VuexloadFavorites(),this.fetchArticles(),this.setActiveSection(),this.fetchViewedArticles(),document.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){document.removeEventListener("click",this.handleDocumentClick)}},q=$,W=(0,u.A)(q,S,L,!1,null,"3ef755aa",null),K=W.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[t.isLoading?t._e():e("div",{staticClass:"carousel-container"},[e("Carousel",{attrs:{"carousel-items":t.carouselItems}})],1),e("div",{staticClass:"card-container"},[e("transition",{attrs:{name:"fade"}},[t.isLoginForm?e("div",{staticClass:"card"},[e("div",{staticClass:"card-inner"},[e("div",{staticClass:"card-front"},[e("LoginForm",{attrs:{form:t.form,toggleForm:t.toggleForm}})],1)])]):t._e()]),e("transition",{attrs:{name:"fade"}},[t.isLoginForm?t._e():e("div",{staticClass:"card"},[e("div",{staticClass:"card-inner"},[e("div",{staticClass:"card-back"},[e("RegisterForm",{attrs:{form:t.form,toggleForm:t.toggleForm}})],1)])])])],1)])},J=[],X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.carouselItems,(function(s){return e("div",{key:s.id,staticClass:"swiper-slide"},[e("img",{staticClass:"slide-image",attrs:{src:s.src,alt:"Slide Image"}}),e("div",{staticClass:"quote"},[t._v(t._s(s.quote))]),e("div",{staticClass:"author"},[t._v(t._s(s.author))])])})),0),e("div",{staticClass:"swiper-pagination"})])},G=[],Y=s(8961),Z={props:{carouselItems:{type:Array,required:!0}},mounted(){new Y.A(".swiper-container",{autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:(t,e)=>`<span class="${e} custom-bullet"></span>`},allowTouchMove:!1})}},tt=Z,et=(0,u.A)(tt,X,G,!1,null,"d497ab64",null),st=et.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-container"},[e("h2",[t._v("Sign in")]),e("el-form",{ref:"loginForm",staticClass:"ElFrom",attrs:{model:t.form,rules:t.rules},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("el-form-item",{attrs:{prop:"email"}},[e("el-input",{staticClass:"ElInp",attrs:{placeholder:"邮箱地址","prefix-icon":"el-icon-message"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{staticClass:"ElInp",attrs:{type:"password",placeholder:"密码","prefix-icon":"el-icon-lock","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),e("el-button",{staticClass:"BtnAft",attrs:{type:"primary",loading:t.loading,block:""},on:{click:function(e){return t.submitForm("loginForm")}}},[t._v("登录")])],1),t._m(0),e("div",{staticClass:"signin-link"},[e("small",[t._v(" 没有账户? "),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleForm.apply(null,arguments)}}},[t._v("创建账户")])])])],1)},it=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider"},[e("span",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("or")]),e("span",{staticClass:"line"})])}],rt={props:{toggleForm:{type:Function,required:!0}},data(){return{form:{email:"",password:""},rules:{email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"}]},loading:!1,theme:localStorage.getItem("theme")||"light"}},methods:{...(0,g.i0)(["updateUser"]),submitForm(t){this.$refs[t].validate((async t=>{if(!t)return!1;this.loading=!0;try{const t={email:this.form.email,password:this.form.password},e=await y.A.post("/api/auth/login",t,{headers:{"Content-Type":"application/json"}});_.Notification.success({title:"登录成功",message:"您已成功登录。",duration:3e3});const s=e.data.token;console.log("登陆后返回用户信息",e.data);const a=e.data.user;localStorage.setItem("token",s),console.log("登录处获得了信息",a),this.$store.dispatch("updateUser",{token:s,details:a}),y.A.get("/api/user",{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("登录处获得了信息",t);const e=t.data;this.$store.dispatch("updateUser",{token:s,details:e})})).catch((t=>{console.error("Get user details error:",t)})),this.$router.push("/Index")}catch(e){if(this.loading=!1,e.response&&e.response.data){const t=e.response.data.msg||"登录失败";_.Notification.error({title:"登录失败",message:t,duration:3e3})}else _.Notification.error({title:"登录失败",message:"登录过程中出现错误，请稍后重试。",duration:3e3})}}))}},mounted(){this.theme=localStorage.getItem("theme")||"light"}},ot=rt,lt=(0,u.A)(ot,at,it,!1,null,"52f495e7",null),nt=lt.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-container2"},[e("h2",[t._v("Welcome back!")]),e("el-form",{ref:"registerForm",staticClass:"ElFrom",attrs:{model:t.form,rules:t.rules},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("el-form-item",{attrs:{prop:"name"}},[e("el-input",{staticClass:"ElInp",attrs:{placeholder:"用户名","prefix-icon":"el-icon-user"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{prop:"email"}},[e("el-input",{staticClass:"ElInp",attrs:{placeholder:"邮箱","prefix-icon":"el-icon-message"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{staticClass:"ElInp",attrs:{type:"password",placeholder:"密码","prefix-icon":"el-icon-lock","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),e("el-form-item",{attrs:{prop:"confirmPassword"}},[e("el-input",{staticClass:"ElInp",attrs:{type:"password",placeholder:"再次输入密码","prefix-icon":"el-icon-lock","show-password":""},model:{value:t.form.confirmPassword,callback:function(e){t.$set(t.form,"confirmPassword",e)},expression:"form.confirmPassword"}})],1),e("el-button",{staticClass:"BtnAft",attrs:{type:"primary",loading:t.loading,block:""},on:{click:function(e){return t.submitForm("registerForm")}}},[t._v("创建帐户")])],1),t._m(0),e("div",{staticClass:"signin-link"},[e("small",[t._v(" 已经有账户了吗? "),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleForm.apply(null,arguments)}}},[t._v("登陆")])])])],1)},dt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider"},[e("span",{staticClass:"line"}),e("span",{staticClass:"text"},[t._v("or")]),e("span",{staticClass:"line"})])}],ut={props:{toggleForm:{type:Function,required:!0},theme:{type:String,default:""}},data(){return{form:{name:"",email:"",password:"",confirmPassword:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(t,e,s)=>{e!==this.form.password?s(new Error("两次输入密码不一致")):s()},trigger:"blur"}]},loading:!1,themeVariables:{"--button-color":"#015aea","--card-background":"#212121","--gradient-primary":"linear-gradient(to right, #012a63, #015aea, #4d9ef7)"}}},methods:{submitForm(t){this.$refs[t].validate((async t=>{if(!t)return!1;this.loading=!0;try{const t={username:this.form.name,email:this.form.email,password:this.form.password};if(this.form.password!==this.form.confirmPassword)return void _.Notification.error({title:"注册失败",message:"密码和确认密码不匹配。",duration:3e3});await y.A.post("/api/auth/register",t,{headers:{"Content-Type":"application/json"}});_.Notification.success({title:"注册成功",message:"您已经成功注册，请登录。",duration:3e3}),this.toggleForm()}catch(e){this.loading=!1,e.response&&e.response.data&&e.response.data.errors?e.response.data.errors.forEach((t=>{_.Notification.error({title:"注册失败",message:t.msg,duration:3e3})})):_.Notification.error({title:"注册失败",message:"注册过程中出现错误，请稍后重试。",duration:3e3})}}))}},mounted(){this.theme=localStorage.getItem("theme")||"light",this.updateTheme(this.theme)}},ht=ut,mt=(0,u.A)(ht,ct,dt,!1,null,"0aad5432",null),gt=mt.exports,pt=s(7309),ft=s.p+"img/LunBoTuImg2.0921403a.jpg",vt=s.p+"img/LunBoTuImg3.287a6a48.jpg",Ct=s.p+"img/LunBoTuImg4.f02f1e54.jpg",wt=s.p+"img/LunBoTuImg5.94bb15b8.jpg",yt={components:{Carousel:st,LoginForm:nt,RegisterForm:gt},data(){return{isLoading:!1,form:{country:"",phone:"",email:"",password:""},carouselItems:[{id:1,src:pt,quote:'"今天的努力，就是明天的光芒。"',author:"(Today's efforts are tomorrow's brilliance.)"},{id:2,src:ft,quote:'"学习是一场永不止步的旅程。"',author:"(Learning is a never-ending journey.)"},{id:3,src:vt,quote:'"成功不是偶然，而是日积月累。"',author:"(Success is not accidental, but accumulated day by day.)"},{id:4,src:Ct,quote:'"勇气不是没有恐惧，而是战胜恐惧。"',author:"(Courage is not the absence of fear, but the triumph over it.)"},{id:5,src:wt,quote:'"每一个选择都是新的开始。"',author:"(Every choice is a new beginning.)"}],isLoginForm:!0}},methods:{toggleForm(){this.isLoginForm=!this.isLoginForm},showWelcomeNotification(){this.$nextTick((()=>{setTimeout((()=>{(0,_.Notification)({title:"Welcome!",message:"Welcome to our platform!",type:"info",duration:4e3,offset:20})}),2e3)}))}},mounted(){this.showWelcomeNotification()}},bt=yt,At=(0,u.A)(bt,Q,J,!1,null,"6ad494d7",null),kt=At.exports,It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-container"},[e("section",{staticClass:"featured-section"},[e("div",{staticClass:"featured-wrapper"},[e("div",{staticClass:"featured-background"},[e("img",{attrs:{src:t.getImageUrl(t.HomelatestArticle.coverImage,"uploads"),alt:"Featured Article"}}),e("div",{staticClass:"gradient-overlay"})]),e("div",{staticClass:"featured-content"},[e("div",{staticClass:"featured-text"},[e("router-link",{attrs:{to:{name:"Article",params:{id:t.HomelatestArticle._id||""}}}},[e("h1",{staticClass:"featured-title"},[t._v(t._s(t.HomelatestArticle.title||"No title available"))]),e("p",{staticClass:"featured-brief"},[t._v(t._s(t.HomelatestArticle.BriefIntroduction))]),e("div",{staticClass:"featured-meta"},[e("div",{staticClass:"featured-author"},[e("img",{attrs:{src:t.getImageUrl(t.SpecifyUserInformation.avatar,"UserImg"),alt:"作者头像"}}),e("span",[t._v(t._s(t.SpecifyUserInformation.username))])]),e("div",{staticClass:"featured-stats"},[e("span",[e("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(t.HomelatestArticle.viewCount||0))]),e("span",[e("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(t.HomelatestArticle.favoriteCount||0))])])]),e("button",{staticClass:"read-more-btn"},[t._v(" 阅读全文 "),e("i",{staticClass:"el-icon-arrow-right"})])])],1)])])]),e("section",{staticClass:"categories-section"},[t._m(0),e("div",{staticClass:"categories-grid"},t._l(t.articleCategories,(function(s){return e("button",{key:s._id,staticClass:"category-card",class:{active:t.selectedCategory&&t.selectedCategory._id===s._id},on:{click:function(e){return t.filterArticlesByCategory(s)}}},[e("span",{staticClass:"category-name"},[t._v(t._s(s.name))]),e("span",{staticClass:"category-count"},[t._v(t._s(t.getCategoryCount(s)))])])})),0)]),e("section",{staticClass:"articles-section"},[t._m(1),t.IsDisplay?e("div",{staticClass:"empty-state"},[e("div",{staticClass:"empty-state-content"},[e("i",{staticClass:"el-icon-document-delete empty-icon"}),e("h3",[t._v("这里空空如也")]),t._m(2),e("el-button",{staticClass:"browse-button",attrs:{type:"primary"},on:{click:function(e){return t.filterArticlesByCategory(t.allactive)}}},[e("i",{staticClass:"el-icon-discover"}),t._v(" 浏览全部文章 ")])],1)]):e("div",{staticClass:"articles-grid"},t._l(t.HomefilteredArticles,(function(s){return e("article",{key:s._id,staticClass:"article-card"},[e("router-link",{attrs:{to:{name:"Article",params:{id:s._id}}}},[e("div",{staticClass:"article-image"},[e("img",{attrs:{src:t.getImageUrl(s.coverImage,"uploads"),alt:"Article Image"}}),e("div",{staticClass:"article-overlay"},[e("span",{staticClass:"read-more"},[t._v("阅读更多")])])]),e("div",{staticClass:"article-content"},[e("div",{staticClass:"article-meta"},[e("span",{staticClass:"article-category"},[t._v(t._s(t.getArticleCategories(s)))]),e("span",{staticClass:"article-date"},[t._v(t._s(t.formatDate(s.createdAt)))])]),e("h3",{staticClass:"article-title"},[t._v(t._s(s.title))]),e("p",{staticClass:"article-description"},[t._v(t._s(s.BriefIntroduction))]),e("div",{staticClass:"article-footer"},[e("div",{staticClass:"article-author"},[e("img",{attrs:{src:t.getImageUrl(s.authorInfo?.avatar,"UserImg"),alt:"作者头像"}}),e("span",[t._v(t._s(s.authorInfo?.username))])]),e("div",{staticClass:"article-stats"},[e("span",[e("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(s.viewCount||0))]),e("span",[e("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(s.favoriteCount||0))])])])])])],1)})),0)])])},_t=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-header"},[e("h2",[t._v("探索分类")]),e("p",[t._v("发现你感兴趣的内容")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-header"},[e("h2",[t._v("最新文章")]),e("p",[t._v("发现更多精彩内容")])])},function(){var t=this,e=t._self._c;return e("p",[t._v("这个分类下还没有文章发布"),e("br"),t._v("不如先去看看其他精彩内容吧")])}],xt={components:{},data(){return{articles:[],IsDisplay:null,Homearticles:[],HomefilteredArticles:[],HomelatestArticle:{},SpecifyUserInformation:"",articleCategories:[],allactive:{_id:"all",name:"全部"},selectedCategory:{_id:"all",name:"全部"},UserColl:[]}},computed:{...(0,g.L8)(["isLoggedIn","getUser"])},methods:{async fetchCategories(){try{const t=await y.A.get("/api/categories");this.articleCategories=t.data,this.articleCategories.unshift(this.allactive),this.articleCategories.length>0&&(this.selectedCategory=this.articleCategories[0],this.filterArticlesByCategory(this.selectedCategory))}catch(t){}},filterArticlesByCategory(t){this.selectedCategory=t,"全部"===t.name?(this.IsDisplay=!1,this.HomefilteredArticles=this.Homearticles):(this.HomefilteredArticles=this.Homearticles.filter((e=>Array.isArray(e.categories)?e.categories.some((e=>(e.name||e)===t.name)):e.categories===t.name)),0===this.HomefilteredArticles.length?this.IsDisplay=!0:this.IsDisplay=!1)},getImageUrl(t,e="uploads"){if(!t)return null;const s=!1;let a;return a=s?`http://localhost:3000/${e}/${t}`:`${window.location.origin}/${e}/${t}`,a},async HomefetchArticles(){try{const t=await y.A.get("/api/articles");this.Homearticles=t.data,this.HomefilteredArticles=this.Homearticles,this.HomelatestArticle=this.Homearticles.length>0?this.Homearticles[this.Homearticles.length-1]:{},await Promise.all(this.Homearticles.map((async t=>{if(t.user){const e=await this.getUserImgOrObject(t.user);t.authorInfo=e}}))),this.HomelatestArticle.user&&(this.SpecifyUserInformation=await this.getUserImgOrObject(this.HomelatestArticle.user))}catch(t){console.error("Error fetching articles:",t)}},async getUserImgOrObject(t){try{const e=await y.A.get(`/api/public-user-info/${t}`);return this.SpecifyUserInformation=e.data,e.data}catch(e){console.error("获取特定用户信息失败:",e)}},async loadFavorites(){if(!localStorage.getItem("token"))return;const t=await y.A.get("/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e=t.data._id;try{const t=await y.A.get(`/api/favorites/${e}`);if(this.favorites=t.data,!Array.isArray(this.favorites))return void console.error("返回的收藏数据不是数组",this.favorites);this.favorites.forEach((t=>{})),this.UserColl=this.favorites}catch(s){console.error("加载收藏失败:",s)}},getCategoryCount(t){return"全部"===t.name?this.Homearticles.length:this.Homearticles.filter((e=>Array.isArray(e.categories)?e.categories.some((e=>(e.name||e)===t.name)):e.categories===t.name)).length},getArticleCategories(t){return t&&t.categories?"string"===typeof t.categories?t.categories:Array.isArray(t.categories)?t.categories.map((t=>t.name||t)).join(", "):"":""},formatDate(t){return t?new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):""}},created(){this.selectedCategory={_id:"all",name:"全部"},this.loadFavorites(),this.HomefetchArticles(),this.fetchCategories()},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},St=xt,Lt=(0,u.A)(St,It,_t,!1,null,"e3b5ec22",null),Ut=Lt.exports,Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"categories-page"},[e("section",{staticClass:"latest-article-section"},[e("div",{staticClass:"latest-article-wrapper"},[e("div",{staticClass:"latest-article-content"},[e("router-link",{attrs:{to:{name:"Article",params:{id:t.categorieslatestArticles[0]?._id||""}}}},[e("span",{staticClass:"article-label"},[t._v("最新文章")]),e("h1",{staticClass:"article-title"},[t._v(t._s(t.categorieslatestArticles[0]?.title||"暂无文章"))]),e("p",{staticClass:"article-brief"},[t._v(t._s(t.categorieslatestArticles[0]?.BriefIntroduction))]),e("div",{staticClass:"article-meta"},[e("div",{staticClass:"article-author"},[e("img",{attrs:{src:t.getImageUrl(t.authorAvatars[t.categorieslatestArticles[0]?.user],"UserImg"),alt:"作者头像"}}),e("span",[t._v(t._s(t.categorieslatestArticles[0]?.authorName))])]),e("div",{staticClass:"article-stats"},[e("span",[e("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(t.categorieslatestArticles[0]?.viewCount||0))]),e("span",[e("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(t.categorieslatestArticles[0]?.favoriteCount||0))])])])])],1),e("div",{staticClass:"latest-article-image"},[e("img",{attrs:{src:t.getImageUrl(t.categorieslatestArticles[0]?.coverImage,"uploads"),alt:"最新文章封面"}}),e("div",{staticClass:"image-overlay"})])])]),e("section",{staticClass:"articles-section"},[e("div",{staticClass:"section-header"},[e("h2",[t._v("所有文章")]),e("div",{staticClass:"section-filters"},[e("el-select",{attrs:{placeholder:"选择分类",clearable:""},on:{change:t.handleCategoryChange},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}},[e("el-option",{attrs:{label:"全部",value:""}}),t._l(t.categories,(function(s){return e("el-option",{key:s._id,attrs:{label:s.name,value:s._id}},[e("span",{staticClass:"category-option"},[e("i",{class:t.getCategoryIcon(s.name)}),e("span",{staticClass:"category-name"},[t._v(t._s(s.name))])])])}))],2)],1)]),e("div",{staticClass:"articles-grid"},[t.isLoading?e("div",{staticClass:"loading-state"},[e("i",{staticClass:"el-icon-loading"}),e("p",[t._v("加载中...")])]):t.error?e("div",{staticClass:"error-state"},[e("i",{staticClass:"el-icon-warning"}),e("p",[t._v(t._s(t.error))])]):0===t.filteredArticles.length?e("div",{staticClass:"empty-state"},[e("div",{staticClass:"empty-state-content"},[e("i",{staticClass:"el-icon-document-delete empty-icon"}),e("h3",[t._v("这里空空如也")]),t._m(0),e("el-button",{staticClass:"browse-button",attrs:{type:"primary"},on:{click:function(e){t.selectedCategory=""}}},[e("i",{staticClass:"el-icon-discover"}),t._v(" 浏览全部文章 ")])],1)]):t._l(t.filteredArticles,(function(s){return e("article",{key:s._id,staticClass:"article-card"},[e("router-link",{attrs:{to:{name:"Article",params:{id:s._id}}}},[e("div",{staticClass:"article-image"},[e("img",{attrs:{src:t.getImageUrl(s.coverImage,"uploads"),alt:"文章封面"}}),e("div",{staticClass:"article-overlay"},[e("span",{staticClass:"read-more"},[t._v("阅读更多")])])]),e("div",{staticClass:"article-content"},[e("div",{staticClass:"article-meta"},[e("span",{staticClass:"article-category"},[t._v(t._s(t.getArticleCategories(s)))]),e("span",{staticClass:"article-date"},[t._v(t._s(t.formatDate(s.createdAt)))])]),e("h3",{staticClass:"article-title"},[t._v(t._s(s.title))]),e("p",{staticClass:"article-description"},[t._v(t._s(s.BriefIntroduction))]),e("div",{staticClass:"article-footer"},[e("div",{staticClass:"article-author"},[e("img",{attrs:{src:t.getImageUrl(t.authorAvatars[s.user],"UserImg"),alt:"作者头像"}}),e("span",[t._v(t._s(s.authorName))])]),e("div",{staticClass:"article-stats"},[e("span",[e("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(s.viewCount||0))]),e("span",[e("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(s.favoriteCount||0))])])])])]),e("div",{staticClass:"article-actions"},[t.userInformation?e("span",{staticClass:"favorite-button",on:{click:function(e){return e.stopPropagation(),t.toggleFavorite(s._id)}}},[e("i",{class:s.isFavorite?"el-icon-star-on":"el-icon-star-off"})]):t._e()])],1)}))],2),e("div",{staticClass:"pagination-wrapper"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.categoriesarticles.length,"page-size":t.pageSize,"current-page":t.currentPage},on:{"current-change":t.handlePageChange}})],1)])])},Pt=[function(){var t=this,e=t._self._c;return e("p",[t._v("这个分类下还没有文章发布"),e("br"),t._v("不如先去看看其他精彩内容吧")])}],Dt={data(){return{categoriesarticles:[],categorieslatestArticles:[],authorAvatars:{},userInformation:"",currentPage:1,pageSize:5,favorites:[],isLoading:!1,error:null,selectedCategory:"",categories:[]}},components:{},computed:{paginatedArticles(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredArticles.slice(t,e)},filteredArticles(){return this.selectedCategory?this.categoriesarticles.filter((t=>t.categories&&t.categories.some((t=>t._id===this.selectedCategory)))):this.categoriesarticles}},watch:{},methods:{...(0,g.i0)(["VuexloadFavorites"]),getImageUrl(t,e="uploads"){if(!t)return null;const s=!1;let a;return a=s?`http://localhost:3000/${e}/${t}`:`${window.location.origin}/${e}/${t}`,a},async categoriesfetchArticles(){this.isLoading=!0,this.error=null;try{const t=await y.A.get("/api/articles");this.categoriesarticles=t.data,this.categorieslatestArticles=this.categoriesarticles.slice(-1),await Promise.all(this.categoriesarticles.map((t=>t.user?this.fetchAuthorAvatar(t.user):Promise.resolve())))}catch(t){this.error="加载文章失败，请稍后重试",console.error("Error fetching articles:",t)}finally{this.isLoading=!1}},async fetchAuthorAvatar(t){try{const e=await y.A.get(`/api/public-user-info/${t}`);this.$set(this.authorAvatars,t,e.data.avatar)}catch(e){console.error("Error fetching user avatar:",e)}},handlePageChange(t){this.currentPage=t},async getuser(){if(!localStorage.getItem("token"))return;const t=await y.A.get("/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.userInformation=t.data._id},async toggleFavorite(t){const e=this.userInformation;try{const s=await y.A.get(`/api/favorites/${e}/${t}`);console.log("打印从后台获取回来的状态",s);const a=s.data;if(console.log("打印了收藏状态",a),a){await y.A.delete("/api/favorites",{data:{userId:e,articleId:t}}),this.$notify({title:"收藏",message:"取消收藏",type:"warning"});const s=this.categoriesarticles.find((e=>e._id===t));s&&(s.isFavorite=!1),this.VuexloadFavorites()}else{await y.A.post("/api/favorites",{userId:e,articleId:t});const s=this.categoriesarticles.find((e=>e._id===t));this.$notify({title:"收藏",message:"收藏成功",type:"success"}),console.log("收藏成功"),s&&(s.isFavorite=!0),this.VuexloadFavorites()}}catch(s){console.error("请求失败:",s)}},async loadFavorites(){if(console.log("调用了loadFavorites"),!localStorage.getItem("token"))return;const t=await y.A.get("/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e=t.data._id;try{const t=await y.A.get(`/api/favorites/${e}`);if(this.favorites=t.data,console.log("在持久化中获取到用户的收藏记录",this.favorites),!Array.isArray(this.favorites))return void console.error("返回的收藏数据不是数组",this.favorites);this.categoriesarticles.forEach((t=>{t.isFavorite=this.favorites.some((e=>!!e.articleId&&String(e.articleId._id)===String(t._id)))}))}catch(s){console.error("加载收藏失败:",s)}},formatDate(t){return t?new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):""},getArticleCategories(t){return t.categories?t.categories.map((t=>t.name)).join(", "):""},async fetchCategories(){try{const t=await y.A.get("/api/categories");this.categories=t.data}catch(t){console.error("Error fetching categories:",t)}},getCategoryIcon(t){const e={"技术":"el-icon-cpu","生活":"el-icon-coffee-cup","笔记":"el-icon-notebook-2","分享":"el-icon-share","其他":"el-icon-more"};return e[t]||"el-icon-folder"},handleCategoryChange(){this.currentPage=1}},created(){this.getuser(),this.loadFavorites(),this.categoriesfetchArticles(),this.fetchCategories()}},Ft=Dt,Tt=(0,u.A)(Ft,Et,Pt,!1,null,"685c876f",null),Bt=Tt.exports,Ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload-article-container"},[e("el-form",{ref:"uploadForm",attrs:{model:t.formData,rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"标题名称",prop:"title"}},[e("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),e("el-form-item",{attrs:{label:"简介",prop:"BriefIntroduction"}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入简介",rows:"4"},model:{value:t.formData.BriefIntroduction,callback:function(e){t.$set(t.formData,"BriefIntroduction",e)},expression:"formData.BriefIntroduction"}})],1),e("el-form-item",{attrs:{label:"文章内容",prop:"content"}},[e("quill-editor",{staticClass:"quill-editor",attrs:{options:t.editorOptions},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),e("el-form-item",{attrs:{label:"选择分类",prop:"categories"}},[e("el-select",{staticClass:"category-select",staticStyle:{width:"100%"},attrs:{placeholder:"请选择分类",multiple:!1},model:{value:t.formData.categories,callback:function(e){t.$set(t.formData,"categories",e)},expression:"formData.categories"}},t._l(t.categories,(function(s){return e("el-option",{key:s._id,attrs:{label:s.name,value:s._id}},[e("span",{staticClass:"category-option"},[e("i",{class:t.getCategoryIcon(s.name)}),e("span",{staticClass:"category-name"},[t._v(t._s(s.name))]),e("span",{staticClass:"category-desc"},[t._v(t._s(s.description))])])])})),1)],1),e("el-form-item",{attrs:{label:"上传封面图片",prop:"articleImage"}},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"","file-list":t.fileList,"on-change":t.handleFileUpload,"auto-upload":!1,limit:1,"on-exceed":t.handleExceed}},[e("el-button",[t._v("点击上传图片")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传一张封面图片")])],1)],1),e("el-form-item",{staticClass:"save-button"},[e("el-button",{attrs:{type:"primary"},on:{click:t.saveContent}},[t._v("保存内容")])],1)],1)],1)},Vt=[],Mt=(s(6762),s(8731)),zt=s.n(Mt),Rt=(s(4209),{data(){return{formData:{title:"",BriefIntroduction:"",content:"",categories:"",coverImage:null},rules:{title:[{required:!0,message:"请输入标题名称",trigger:"blur"}],BriefIntroduction:[{required:!0,message:"请输入简介",trigger:"blur"}],categories:[{required:!0,message:"请选择分类",trigger:"change"}],content:[{required:!0,message:"请输入文章内容",trigger:"blur"}]},categories:[],fileList:[],editorOptions:{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"],["image"]]}}}},created(){this.fetchCategories()},methods:{async fetchCategories(){try{const t=await y.A.get("/api/categories");this.categories=t.data}catch(t){console.error("Error fetching categories:",t),this.categories=defaultCategories}},getCategoryIcon(t){const e={"技术":"el-icon-cpu","生活":"el-icon-coffee-cup","笔记":"el-icon-notebook-2","分享":"el-icon-share","其他":"el-icon-more"};return e[t]||"el-icon-folder"},handleExceed(t,e){this.$message.warning("只能上传一张封面图片")},handleFileUpload(t,e){const s=5242880;if(t.size>s)return this.$notify({title:"上传失败",message:"图片大小不能超过5MB",type:"error",duration:3e3}),void e.splice(e.indexOf(t),1);e.length>1&&e.splice(0,1),this.formData.coverImage=t.raw,this.fileList=e},saveContent(){this.$refs.uploadForm.validate((async t=>{if(!t)return;const e=new FormData;Object.keys(this.formData).forEach((t=>{e.append(t,this.formData[t])}));for(let a of e.entries());try{const t=localStorage.getItem("token");await y.A.post("/api/articles",e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});_.Notification.success({title:"成功",message:"文章保存成功"})}catch(s){let t="文章保存失败";s.response&&s.response.data&&(t=s.response.data.message||s.response.data.msg||t),_.Notification.error({title:"保存失败",message:t,duration:3e3}),console.error("文章保存失败:",s.response||s)}}))}}}),jt=Rt,Ot=(0,u.A)(jt,Ht,Vt,!1,null,null,null),Nt=Ot.exports,$t=s(2042),qt=function(){var t=this,e=t._self._c;return e("div",{ref:"articleBox",staticClass:"articleBox"},[e("div",{staticClass:"header"},[e("button",{staticClass:"back-button",on:{click:t.goBack}},[e("i",{staticClass:"back-icon"},[t._v("←")]),e("span",{staticClass:"back-text"},[t._v("返回")])]),e("span",{staticClass:"separator"},[t._v("/")]),e("span",{staticClass:"title"},[t._v(t._s(t.article?.title))])]),t.article?e("div",{staticClass:"articleText"},[e("div",{staticClass:"articleImgTle"},[e("div",{staticClass:"img-container"},[e("img",{staticClass:"article-image",attrs:{src:t.getRandomImage(),alt:"Random Image"}}),e("div",{staticClass:"overlay"},[e("span",{staticClass:"title"},[t._v(t._s(t.article?.title))]),e("p",[t._v(t._s(t.article.BriefIntroduction))]),e("p",{staticClass:"article-author"},[e("strong",[t._v("作者 : ")]),t._v(" "+t._s(t.article.authorName))])])])]),e("div",{staticClass:"articleContent"},[e("div",{staticClass:"articletextS",domProps:{innerHTML:t._s(t.article.content)}})])]):e("div",[e("p",[t._v("Loading...")])]),e("section",{staticClass:"comment-section"},[e("h2",[t._v("评论")]),e("div",{staticClass:"comment-input"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newComment,expression:"newComment"}],attrs:{placeholder:"写下你的评论..."},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value)}}}),e("button",{on:{click:t.submitComment}},[t._v("提交评论")])]),0!==t.comments.length?e("div",{staticClass:"comments-list"},[e("h3",[t._v("最新评论")]),t._l(t.comments,(function(s){return e("div",{key:s._id,staticClass:"comment"},[e("p",[t._v(t._s(s.content))]),e("div",{staticClass:"comment-info"},[s.author&&s.createdAt?e("small",[t._v(" 来自："),e("router-link",{staticClass:"user-link",attrs:{to:{name:"OtherUser",params:{id:s.author._id}}}},[t._v(t._s(s.author.username))]),t._v(" · "+t._s(new Date(s.createdAt).toLocaleString())+" "),s.author._id===t.$store.state.user.details._id?e("button",{staticClass:"delete-btn",on:{click:function(e){return t.deleteComment(s._id)}}},[t._v("删除")]):t._e()],1):e("small",[t._v(" Unknown author · Unknown date ")])]),s.replies&&s.replies.length?e("div",{staticClass:"replies"},t._l(s.replies,(function(s){return e("div",{key:s._id,staticClass:"reply"},[e("p",[t._v(t._s(s.content))]),s.author&&s.createdAt?e("small",[t._v(" 来自："),e("router-link",{staticClass:"user-link",attrs:{to:{name:"OtherUser",params:{id:s.author._id}}}},[t._v(t._s(s.author.username))]),t._v(" · "+t._s(new Date(s.createdAt).toLocaleString())+" "),s.author._id===t.$store.state.user.details._id?e("button",{staticClass:"delete-btn",on:{click:function(e){return t.deleteComment(s._id)}}},[t._v("删除")]):t._e()],1):e("small",[t._v(" Unknown author · Unknown date ")])])})),0):t._e(),e("button",{on:{click:function(e){return t.replyToComment(s._id)}}},[t._v("回复")]),t.replyingTo===s._id?e("div",{staticClass:"reply-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],attrs:{placeholder:"输入回复内容..."},domProps:{value:t.replyContent},on:{input:function(e){e.target.composing||(t.replyContent=e.target.value)}}}),e("button",{on:{click:function(e){return t.submitReply(s._id)}}},[t._v("提交")]),e("button",{on:{click:t.cancelReply}},[t._v("取消")])]):t._e()])}))],2):e("div")])])},Wt=[],Kt={data(){return{newComment:"",comments:[],article:null,replyingTo:null,replyContent:"",progressBarWidth:0,scrollPosition:0,articleBoxHeight:0,acid:"",images:[{src:s(9123)},{src:s(3060)}],themes:{light:{"--primary-color":"#3498db","--secondary-background":"#f8f9ff","--active-background":"#f7f7f8","--background-color":"#ffffff","--border-color":" #f0f1fb","--text-color":"#000000","--button-color":"#1988fa","--card-background":" #f5f5f5","--gradient-primary":"linear-gradient(to right, #1988fa 0%, #33c4f9 50%, #00f2fe 100%)"},dark:{"--primary-color":"#e74c3c","--active-background":"#1a1a1a","--secondary-background":"#1f1f1f","--background-color":"#000000","--border-color":" #2c2c2c","--text-color":"#ecf0f1","--button-color":"#015aea","--card-background":" #212121","--gradient-primary":"linear-gradient(to right, #012a63, #015aea, #4d9ef7)"}}}},created(){const t=this.$route.params.id;this.acid=t,this.fetchComments(t),this.fetchArticleData()},mounted(){const t=localStorage.getItem("theme")||"light",e=localStorage.getItem("token");e&&y.A.get("/api/user",{headers:{Authorization:`Bearer ${e}`}}).then((t=>{this.$store.dispatch("updateUser",{token:e,details:t.data})})).catch((t=>{console.error("Error fetching user data:",t)})),this.updateTheme(t),console.log("本地储存状态",t),this.$nextTick((()=>{this.handleScroll(),window.addEventListener("scroll",this.handleScroll)})),this.getLastViewedArticle().then((t=>{setTimeout((()=>{null!==t&&window.scrollTo({top:t,behavior:"smooth"})}),100)})),window.addEventListener("scroll",this.handleScroll)},computed:{},beforeDestroy(){const t=this.$refs.articleBox;t&&t.removeEventListener("scroll",this.handleScroll),this.saveScrollPosition(),console.log("退出成功"),window.removeEventListener("resize",this.handleResize)},methods:{goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/Index/Home")},updateTheme(t){console.log(t),this.currentTheme=t;const e=this.themes[t];for(const s in e)document.documentElement.style.setProperty(s,e[s]);localStorage.setItem("theme",t)},handleScroll(){const t=this.$refs.articleBox;t&&(this.scrollPosition=window.scrollY,this.articleBoxHeight=t.clientHeight)},async getLastViewedArticle(){if(!localStorage.getItem("token"))return null;console.log("token存在"),console.log(localStorage.getItem("token"));try{const t=await y.A.get(`/api/user/last-viewed/${this.acid}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return t.data.scrollPosition}catch(t){return console.error("Error retrieving last viewed article:",t),null}},async saveScrollPosition(){if(!localStorage.getItem("token"))return;console.log(this.articleBoxHeight),console.log(window.innerHeight);const t=this.articleBoxHeight-window.innerHeight;console.log("最大宽度",t);try{await y.A.post("/api/user/save-progress",{articleId:this.acid,scrollPosition:this.scrollPosition,maxScrollPosition:t},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(e){console.error("Error saving scroll position:",e)}},handleResize(){const t=this.$refs.articleBox;t.style.height=`${window.innerHeight}px`},goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/Index/Home")},getRandomImage(){const t=Math.floor(Math.random()*this.images.length);return this.images[t].src},async fetchArticleData(){try{const t=this.$route.params.id,e=await y.A.get(`/api/articles/${t}`);this.article=e.data}catch(t){console.error("Error fetching article data:",t)}},replyToComment(t){this.replyingTo=t,this.replyContent=""},cancelReply(){this.replyingTo=null,this.replyContent=""},async submitComment(){if(this.newComment.trim())try{await y.A.post("/api/comments",{content:this.newComment,articleId:this.acid,author:this.user},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),this.newComment="",await this.fetchComments(this.acid)}catch(t){console.error("Error submitting comment:",t)}else alert("评论内容不能为空")},async submitReply(t){if(this.replyContent.trim())try{await y.A.post("/api/comments/reply",{content:this.replyContent,articleId:this.article._id,parentCommentId:t},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),this.fetchComments(this.article._id),this.replyingTo=null,this.replyContent=""}catch(e){console.error("Error submitting reply:",e)}else alert("回复内容不能为空")},async fetchComments(t){try{const e=localStorage.getItem("token"),s=await y.A.get(`/api/comments/${t}/comments`,{headers:{Authorization:`Bearer ${e}`}});if(e&&!this.$store.state.user.token){const t=await y.A.get("/api/user",{headers:{Authorization:`Bearer ${e}`}});this.$store.dispatch("updateUser",{token:e,details:t.data})}this.comments=s.data.comments,console.log("Comments loaded:",this.comments)}catch(e){console.error("Error fetching comments:",e)}},async deleteComment(t){try{const e=await this.$confirm("确定要删除这条评论吗？删除后将同时删除该评论下的所有回复","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});"confirm"===e&&(await y.A.delete(`/api/comments/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),await this.fetchComments(this.acid),this.$message.success("评论删除成功"))}catch(e){"cancel"!==e&&(console.error("Error deleting comment:",e),this.$message.error("删除评论失败，请重试"))}}}},Qt=Kt,Jt=(0,u.A)(Qt,qt,Wt,!1,null,"06cdb44e",null),Xt=Jt.exports,Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-page"},[e("div",{staticClass:"user-header"},[e("div",{staticClass:"user-banner"},[e("img",{attrs:{src:s(9123),alt:"banner"}}),e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:t.getImageUrl(t.user.avatar,"UserImg"),alt:"头像"},on:{click:t.openDialog}})])]),e("div",{staticClass:"user-info"},[e("div",{staticClass:"user-details"},[e("div",{staticClass:"username-container"},[e("h2",[t._v(t._s(t.user.username))]),e("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:t.openEditUsernameDialog}})],1),e("p",[t._v(t._s(t.user.email))]),e("el-button",{staticClass:"change-password-btn",attrs:{type:"text"},on:{click:t.openChangePasswordDialog}},[t._v("修改密码")])],1),e("el-button",{staticStyle:{"margin-left":"auto"},attrs:{type:"primary"},on:{click:t.LU_logout}},[t._v("退出登录")])],1)]),e("div",{staticClass:"user-content"},[e("div",{staticClass:"user-sidebar"},[e("el-card",{staticClass:"statistics-card"},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.totalViews))]),e("div",{staticClass:"stat-label"},[t._v("浏览量")])]),e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.userArticles.length))]),e("div",{staticClass:"stat-label"},[t._v("文章数")])])]),e("el-card",{staticClass:"menu-card"},[e("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"已发布",name:"first"}},[e("div",{staticClass:"tab-content"},[t.userArticles&&t.userArticles.length>0?e("div",{staticClass:"articles-list"},t._l(t.userArticles,(function(s){return e("div",{key:s._id,staticClass:"article-item"},[e("router-link",{attrs:{to:{name:"Article",params:{id:s._id}}}},[e("div",{staticClass:"article-content"},[s.coverImage?e("img",{attrs:{src:t.getImageUrl(s.coverImage,"uploads"),alt:"封面图片"}}):t._e(),e("div",{staticClass:"article-info"},[e("h4",[t._v(t._s(s.title))]),e("p",[t._v(t._s(s.BriefIntroduction||"暂无简介"))]),e("div",{staticClass:"article-meta"},[e("span",[e("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(s.viewCount||0))]),e("span",[e("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(s.favoriteCount||0))]),e("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return e.preventDefault(),t.confirmDelete(s._id)}}},[t._v("删除")])],1)])])])],1)})),0):e("div",{staticClass:"no-data"},[t._v("暂无发布文章")])])]),e("el-tab-pane",{attrs:{label:"收藏",name:"second"}},[e("div",{staticClass:"tab-content"},[t.favorites&&t.favorites.length>0?e("div",{staticClass:"favorites-list"},t._l(t.favorites,(function(s){return e("div",{key:s.articleId?._id||s._id,staticClass:"article-item"},[s.articleId?._id?e("router-link",{attrs:{to:{name:"Article",params:{id:s.articleId._id}}}},[e("div",{staticClass:"article-content"},[s.articleId?.coverImage?e("img",{attrs:{src:t.getImageUrl(s.articleId.coverImage,"uploads"),alt:"封面图片"}}):t._e(),e("div",{staticClass:"article-info"},[e("h4",[t._v(t._s(s.articleId?.title||"未知标题"))]),e("p",[t._v(t._s(s.articleId?.BriefIntroduction||"暂无简介"))]),e("div",{staticClass:"article-meta"},[e("span",[e("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(s.articleId?.viewCount||0))]),e("span",[e("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(s.articleId?.favoriteCount||0))]),e("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-star-off"},on:{click:function(e){return e.preventDefault(),t.confirmUnfavorite(s._id)}}},[t._v("取消收藏")])],1)])])]):e("div",{staticClass:"article-content invalid-favorite"},[e("div",{staticClass:"article-info"},[e("h4",[t._v("无效收藏记录")]),e("p",[t._v("此收藏记录的文章可能已被删除")]),e("div",{staticClass:"article-meta"},[e("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return e.preventDefault(),t.confirmUnfavorite(s._id)}}},[t._v("删除无效记录")])],1)])])],1)})),0):e("div",{staticClass:"no-data"},[t._v("暂无收藏文章")])])])],1)],1)],1),e("div",{staticClass:"user-main"},[e("el-card",{staticClass:"recent-view-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("最近浏览")])]),t.viewedArticles&&t.viewedArticles.length>0?e("div",{staticClass:"recent-view-content"},t._l(t.viewedArticles,(function(s){return e("div",{key:s.articleId,staticClass:"article-item"},[e("router-link",{attrs:{to:{name:"Article",params:{id:s.articleId}}}},[e("div",{staticClass:"article-content"},[s.coverImage?e("img",{attrs:{src:t.getImageUrl(s.coverImage,"uploads"),alt:"封面图片"}}):t._e(),e("div",{staticClass:"article-info article-info-title"},[e("h4",[t._v(t._s(s.title||"未知标题"))]),e("div",{staticClass:"article-meta"},[e("span",[e("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(s.viewCount||0))]),e("span",[e("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(s.favoriteCount||0))]),e("span",{staticClass:"reading-progress"},[e("el-progress",{staticClass:"custom-progress",attrs:{percentage:t.calculateProgress(s.scrollPosition,s.maxScrollPosition),format:t=>`已读${t}%`,"stroke-width":18,"show-text":!0,color:["#67C23A","#E6A23C","#F56C6C"],"text-inside":!0}})],1),e("span",{staticClass:"view-time"},[t._v(t._s(new Date(s.lastViewedAt).toLocaleString()))])])])])])],1)})),0):e("div",{staticClass:"no-data"},[t._v("暂无浏览记录")])])],1)]),e("el-dialog",{attrs:{title:"修改头像",visible:t.dialogVisible,width:"300px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-upload",{attrs:{action:"/api/update-avatar",headers:t.headers,name:"avatar","list-type":"picture-card","on-success":t.handleSuccess,"on-error":t.handleError}},[e("i",{staticClass:"el-icon-plus"})]),e("p",[t._v("点击上传新的头像")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)],1),e("el-dialog",{attrs:{title:"确认删除",visible:t.deleteDialogVisible,width:"30%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[e("span",[t._v("确定要删除这篇文章吗？此操作不可恢复。")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"danger"},on:{click:t.deleteArticle}},[t._v("确定")])],1)]),e("el-dialog",{attrs:{title:"确认取消收藏",visible:t.unfavoriteDialogVisible,width:"30%"},on:{"update:visible":function(e){t.unfavoriteDialogVisible=e}}},[e("span",[t._v("确定要取消收藏这篇文章吗？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.unfavoriteDialogVisible=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"warning"},on:{click:t.unfavoriteArticle}},[t._v("确定")])],1)]),e("el-dialog",{attrs:{title:"修改昵称",visible:t.editUsernameDialogVisible,width:"400px","custom-class":"custom-dialog","close-on-click-modal":!1},on:{"update:visible":function(e){t.editUsernameDialogVisible=e}}},[e("el-form",{ref:"usernameForm",staticClass:"custom-form",attrs:{model:t.usernameForm,rules:t.usernameRules,"label-position":"top"}},[e("el-form-item",{attrs:{label:"新昵称",prop:"newUsername"}},[e("el-input",{attrs:{placeholder:"请输入新昵称","prefix-icon":"el-icon-user",maxlength:"20","show-word-limit":""},model:{value:t.usernameForm.newUsername,callback:function(e){t.$set(t.usernameForm,"newUsername",e)},expression:"usernameForm.newUsername"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{plain:""},on:{click:function(e){t.editUsernameDialogVisible=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.submitUsername}},[t._v("确定")])],1)],1),e("el-dialog",{attrs:{title:"修改密码",visible:t.changePasswordDialogVisible,width:"400px","custom-class":"custom-dialog","close-on-click-modal":!1},on:{"update:visible":function(e){t.changePasswordDialogVisible=e}}},[e("el-form",{ref:"passwordForm",staticClass:"custom-form",attrs:{model:t.passwordForm,rules:t.passwordRules,"label-position":"top"}},[e("el-form-item",{attrs:{label:"原密码",prop:"currentPassword"}},[e("el-input",{attrs:{type:"password",placeholder:"请输入原密码","prefix-icon":"el-icon-lock","show-password":""},model:{value:t.passwordForm.currentPassword,callback:function(e){t.$set(t.passwordForm,"currentPassword",e)},expression:"passwordForm.currentPassword"}})],1),e("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[e("el-input",{attrs:{type:"password",placeholder:"请输入新密码","prefix-icon":"el-icon-key","show-password":""},model:{value:t.passwordForm.newPassword,callback:function(e){t.$set(t.passwordForm,"newPassword",e)},expression:"passwordForm.newPassword"}})],1),e("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[e("el-input",{attrs:{type:"password",placeholder:"请确认新密码","prefix-icon":"el-icon-key","show-password":""},model:{value:t.passwordForm.confirmPassword,callback:function(e){t.$set(t.passwordForm,"confirmPassword",e)},expression:"passwordForm.confirmPassword"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{plain:""},on:{click:function(e){t.changePasswordDialogVisible=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.submitPassword}},[t._v("确定")])],1)],1),e("Footer")],1)},Yt=[],Zt={components:{Footer:N},data(){return{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},user:"",dialogVisible:!1,deleteDialogVisible:!1,unfavoriteDialogVisible:!1,articleToDelete:null,favoriteToRemove:null,favorites:[],userArticles:[],viewedArticles:[],isMobile:!1,activeName:"first",totalViews:0,editUsernameDialogVisible:!1,usernameForm:{newUsername:""},usernameRules:{newUsername:[{required:!0,message:"请输入新昵称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},changePasswordDialogVisible:!1,passwordForm:{currentPassword:"",newPassword:"",confirmPassword:""},passwordRules:{currentPassword:[{required:!0,message:"请输入原密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(t,e,s)=>{e!==this.passwordForm.newPassword?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]}}},props:{lastViewedArticleZi:{type:Object}},computed:{...(0,g.L8)(["getUser","isLoggedIn"])},created(){this.user=this.getUser,!this.isLoggedIn||this.user&&this.user._id?this.initializeUserData():y.A.get("/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{const e=t.data;this.$store.dispatch("updateUser",{token:localStorage.getItem("token"),details:e}),this.user=e,this.initializeUserData()})).catch((t=>{console.error("获取用户信息失败:",t),this.$message.error("获取用户信息失败")}))},async mounted(){await this.loadUserArticles(),await this.loadViewedArticles(),await this.$store.dispatch("VuexloadFavorites"),this.favorites=this.$store.getters.getFavorites},methods:{async initializeUserData(){if(!this.user||!this.user._id)return void console.error("用户信息不完整");const t=localStorage.getItem("token");if(!t)return void this.$router.push("/login");const e={Authorization:`Bearer ${t}`};try{const t=await y.A.get(`/api/users/${this.user._id}/articles`);this.userArticles=t.data,this.totalViews=this.userArticles.reduce(((t,e)=>t+(e.viewCount||0)),0)}catch(s){console.error("获取用户文章失败:",s),this.$message.error("获取用户文章失败")}try{const t=await y.A.get(`/api/favorites/${this.user._id}`,{headers:e});this.favorites=t.data}catch(s){console.error("获取收藏失败:",s),this.$message.error("获取收藏失败")}try{const t=await y.A.get("/api/user/viewed-articles",{headers:e});this.viewedArticles=t.data}catch(s){console.error("获取浏览记录失败:",s),this.$message.error("获取浏览记录失败")}},async loadUserArticles(){try{if(!this.user._id)return;const t=await y.A.get(`/api/users/${this.user._id}/articles`);this.userArticles=t.data}catch(t){console.error("加载用户文章失败:",t),this.$message.error("加载文章列表失败")}},async loadViewedArticles(){try{const t=await y.A.get("/api/user/viewed-articles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.viewedArticles=t.data}catch(t){console.error("加载浏览记录失败:",t)}},LU_logout(){this.$emit("call-parent")},getImageUrl(t,e){if(!t)return null;const s=window.location.origin,a="UserImg"===e?`UserImg/${t}`:`uploads/${t}`,i=new URL(a,s);return i.toString()},openDialog(){this.dialogVisible=!0},handleSuccess(t,e){this.$message.success("头像上传成功！"),this.dialogVisible=!1},handleError(t){this.$message.error("头像上传失败，请重试！")},confirmDelete(t){this.articleToDelete=t,this.deleteDialogVisible=!0},async deleteArticle(){try{await y.A.delete(`/api/articles/${this.articleToDelete}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),this.$message.success("文章删除成功"),this.deleteDialogVisible=!1,this.loadUserArticles()}catch(t){console.error("删除文章失败:",t),this.$message.error("删除文章失败，请重试")}},confirmUnfavorite(t){this.favoriteToRemove=t,this.unfavoriteDialogVisible=!0},async unfavoriteArticle(){try{const t=this.user._id,e=this.favorites.find((t=>t._id===this.favoriteToRemove));if(!e)throw new Error("未找到收藏记录");if(!e.articleId)return await y.A.delete("/api/favorites",{data:{favoriteId:e._id}}),this.$notify({title:"收藏",message:"已删除无效收藏记录",type:"warning"}),this.unfavoriteDialogVisible=!1,void this.loadFavorites();const s=e.articleId._id;if(!t||!s)throw new Error("无效的用户ID或文章ID");await y.A.delete("/api/favorites",{data:{userId:t,articleId:s}}),this.$notify({title:"收藏",message:"取消收藏",type:"warning"}),this.unfavoriteDialogVisible=!1,this.loadFavorites()}catch(t){console.error("取消收藏失败:",t),this.$message.error("取消收藏失败，请重试")}},async loadUserArticles(){try{if(!this.user._id)return;const t=await y.A.get(`/api/users/${this.user._id}/articles`);this.userArticles=t.data}catch(t){console.error("加载用户文章失败:",t),this.$message.error("加载文章列表失败")}},async loadFavorites(){if(!localStorage.getItem("token"))return;const t=await y.A.get("/api/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e=t.data._id;try{const t=await y.A.get(`/api/favorites/${e}`);if(this.favorites=t.data,!Array.isArray(this.favorites))return void console.error("返回的收藏数据不是数组",this.favorites)}catch(s){console.error("加载收藏失败:",s)}},async loadTotalViews(){try{if(!this.user._id)return;const t=await y.A.get(`/api/users/${this.user._id}/total-views`);this.totalViews=t.data.totalViews}catch(t){console.error("加载总浏览量失败:",t),this.$message.error("加载总浏览量失败")}},async loadViewedArticles(){try{const t=await y.A.get("/api/user/viewed-articles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.viewedArticles=t.data.sort(((t,e)=>new Date(e.lastViewedAt)-new Date(t.lastViewedAt)))}catch(t){console.error("加载浏览记录失败:",t),this.$message.error("加载浏览记录失败")}},calculateProgress(t,e){if(!e)return 0;const s=t/e*100;return Math.min(Math.round(s),100)},openEditUsernameDialog(){this.usernameForm.newUsername=this.user.username,this.editUsernameDialogVisible=!0},submitUsername(){this.$refs.usernameForm.validate((async t=>{if(t)try{console.log(this.usernameForm.newUsername);await y.A.put(`/api/update-username/${this.user._id}`,{newUsername:this.usernameForm.newUsername},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.user.username=this.usernameForm.newUsername,this.$store.dispatch("updateUser",{details:{...this.user}}),this.$message.success("昵称修改成功"),this.editUsernameDialogVisible=!1}catch(e){this.$message.error(e.response?.data?.message||"修改昵称失败，请重试")}}))},openChangePasswordDialog(){this.changePasswordDialogVisible=!0,this.$nextTick((()=>{this.$refs.passwordForm?.resetFields()}))},submitPassword(){this.$refs.passwordForm.validate((async t=>{if(t)try{await y.A.put(`/api/update-password/${this.user._id}`,{currentPassword:this.passwordForm.currentPassword,newPassword:this.passwordForm.newPassword},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),this.$message.success("密码修改成功，请重新登录"),this.changePasswordDialogVisible=!1,localStorage.removeItem("token"),this.$store.dispatch("updateUser",{token:null,details:null}),this.$router.push("/login")}catch(e){this.$message.error(e.response?.data?.message||"修改密码失败，请重试")}}))}},mounted(){this.loadFavorites(),this.loadUserArticles(),this.loadTotalViews(),this.loadViewedArticles()}},te=Zt,ee=(0,u.A)(te,Gt,Yt,!1,null,"18799b42",null),se=ee.exports,ae=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-page"},[e("div",{staticClass:"header"},[e("button",{staticClass:"back-button",on:{click:t.goBack}},[e("i",{staticClass:"back-icon"},[t._v("←")]),e("span",{staticClass:"back-text"},[t._v("返回")])]),e("span",{staticClass:"separator"},[t._v("/")]),e("span",{staticClass:"title"},[t._v("用户主页")])]),e("div",{staticClass:"user-banner",style:{backgroundImage:`url(${t.getImageUrl(t.userInfo?.banner,"uploads")||t.defaultBanner})`}},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:t.getImageUrl(t.userInfo?.avatar,"UserImg")||t.defaultAvatar,alt:"用户头像"}})])]),e("div",{staticClass:"user-info"},[e("h2",[t._v(t._s(t.userInfo?.username||"未知用户"))])]),e("div",{staticClass:"user-content"},[e("div",{staticClass:"user-sidebar"},[e("div",{staticClass:"statistics-card"},[e("h3",[t._v("数据统计")]),e("div",{staticClass:"statistics-grid"},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.userStats?.articles||0))]),e("div",{staticClass:"stat-label"},[t._v("文章")])])])])]),e("div",{staticClass:"main-content"},[e("el-tabs",{staticClass:"custom-tabs",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("el-tab-pane",{attrs:{label:"文章",name:"articles"}},[t.articles.length>0?e("div",{staticClass:"articles-list"},t._l(t.articles,(function(s){return e("div",{key:s?._id,staticClass:"article-card"},[e("div",{staticClass:"article-content"},[e("div",{staticClass:"article-info"},[e("div",{staticClass:"article-info-title"},[e("h4",[t._v(t._s(s?.title||"无标题"))])]),e("p",[t._v(t._s(s?.summary||"暂无简介"))]),e("div",{staticClass:"article-meta"},[e("span",[t._v(t._s(s?.viewCount||0)+" 阅读")]),e("span",[t._v(t._s(s?.likes||0)+" 点赞")]),e("span",[t._v(t._s(s?.favoriteCount||0)+" 收藏")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.viewArticle(s?._id)}}},[t._v("阅读全文")])],1)]),s?.cover?e("div",{staticClass:"article-image"},[e("img",{attrs:{src:s.cover,alt:s?.title||"文章图片"}})]):t._e()])])})),0):e("div",{staticClass:"empty-state"},[e("p",[t._v("暂无文章")])])])],1)],1)])])},ie=[],re={name:"OtherUser",data(){return{userInfo:{},userStats:{},articles:[],activeTab:"articles",defaultAvatar:s(1575),defaultBanner:s(7309)}},created(){this.fetchUserInfo(),this.fetchUserArticles()},methods:{goBack(){this.$router.go(-1)},getImageUrl(t,e){if(!t)return null;const s=window.location.origin,a="UserImg"===e?`UserImg/${t}`:`uploads/${t}`,i=new URL(a,s);return i.toString()},async fetchUserInfo(){try{const t=this.$route.params.id,e=await y.A.get(`/api/public-user-info/${t}`);console.log(e.data),this.userInfo=e.data,this.fetchUserStats()}catch(t){console.error("Error fetching user info:",t),this.$message.error("获取用户信息失败")}},async fetchUserStats(){try{const t=this.$route.params.id,e=await y.A.get(`/api/users/${t}/total-views`);this.userStats={...e.data,articles:this.articles.length}}catch(t){console.error("Error fetching user stats:",t),this.$message.error("获取用户统计信息失败")}},async fetchUserArticles(){try{const t=this.$route.params.id,e=await y.A.get(`/api/users/${t}/articles`);this.articles=e.data}catch(t){console.error("Error fetching user articles:",t),this.$message.error("获取文章列表失败")}},viewArticle(t){this.$router.push(`/Article/${t}`)}}},oe=re,le=(0,u.A)(oe,ae,ie,!1,null,"4a358d10",null),ne=le.exports,ce=s(7966);function de(){const t=localStorage.getItem("token");if(!t)return!0;try{const e=(0,ce.s)(t),s=Math.floor(Date.now()/1e3);return e.exp<s}catch(e){return console.error("Token decoding failed:",e),!0}}w["default"].use(x()),w["default"].use($t.Ay);const ue=[{path:"/",redirect:"/Index"},{path:"/Index",component:K,name:"Index",meta:{requiresAuth:!0},children:[{path:"",redirect:"home"},{path:"home",component:Ut,name:"Home",meta:{requiresAuth:!0}},{path:"discover",component:Bt,name:"Discover",meta:{requiresAuth:!0}},{path:"create",component:Nt,name:"Create",meta:{requiresAuth:!0},beforeEnter:(t,e,s)=>{const a=localStorage.getItem("token");a&&s()}},{path:"my",component:se,name:"User",meta:{requiresAuth:!0}}]},{path:"/Login",component:kt,name:"Login"},{path:"/Article/:id",name:"Article",component:Xt,meta:{requiresAuth:!0}},{path:"/user/:id",name:"OtherUser",component:ne,meta:{requiresAuth:!0}}],he=new $t.Ay({mode:"history",routes:ue});he.beforeEach(((t,e,s)=>{"Article"===t.name&&localStorage.setItem("articleFrom",e.fullPath),s()})),he.beforeEach(((t,e,s)=>{const a=localStorage.getItem("token");t.matched.some((t=>t.meta.requiresAuth))&&(!a||de())?(_.Notification.error({title:"登录信息已失效",message:"请从新登录",duration:3e3}),localStorage.removeItem("token"),s("/Login")):s()}));var me=he,ge=s(7187),pe=s.n(ge),fe=(s(9432),s(6868)),ve=s(7080),Ce=s(5307);window.$=window.jQuery=i();const we=new(pe()),ye={apiKey:"AIzaSyDqbqz4CpsCTDY0VbWPQB-t6uHdEIQk2TQ",authDomain:"myblog-c17a0.firebaseapp.com",databaseURL:"https://myblog-c17a0-default-rtdb.firebaseio.com",projectId:"myblog-c17a0",storageBucket:"myblog-c17a0.appspot.com",messagingSenderId:"710118595739",appId:"1:710118595739:web:84343f79d7ad946326ba3e",measurementId:"G-RXB7NMBMLE"},be=(0,fe.Wp)(ye),Ae=(0,ve.xI)(be),ke=(0,Ce.C3)(be),Ie=localStorage.getItem("token");Ie&&(A.dispatch("updateUser",{token:Ie,details:{}}),y.A.get("/api/user",{headers:{Authorization:`Bearer ${Ie}`}}).then((t=>{const e=t.data;A.dispatch("updateUser",{token:Ie,details:e})})).catch((t=>{console.error("Fetch user details error:",t)}))),w["default"].prototype.$firebaseApp=be,w["default"].prototype.$auth=Ae,w["default"].prototype.$database=ke;const _e=new w["default"]({router:me,vuetify:we,store:A,data:{$firebaseAuth:Ae},render:t=>t(C)});w["default"].component("VueCal",zt()),w["default"].config.productionTip=!1,w["default"].use(x()),w["default"].use(I()),_e.$mount("#app")},9123:function(t,e,s){t.exports=s.p+"img/1.80955ccd.jpg"},3060:function(t,e,s){t.exports=s.p+"img/2.470bd5d7.jpg"},7309:function(t,e,s){t.exports=s.p+"img/LunBoTuImg1.31d331e0.jpg"},1575:function(t){t.exports="data:image/png;base64,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"},3153:function(t,e,s){t.exports=s.p+"img/logo.0f30f6e6.png"}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=t,function(){s.amdO={}}(),function(){var t=[];s.O=function(e,a,i,r){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],r=t[d][2];for(var l=!0,n=0;n<a.length;n++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[n])}))?a.splice(n--,1):(l=!1,r<o&&(o=r));if(l){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[a,i,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){s.p="/"}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,r,o=a[0],l=a[1],n=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(n)var d=n(s)}for(e&&e(a);c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},a=self["webpackChunknewcxdblog"]=self["webpackChunknewcxdblog"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(4091)}));a=s.O(a)})();
//# sourceMappingURL=app.bc620b3c.js.map